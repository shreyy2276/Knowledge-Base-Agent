                          ┌──────────────────────────┐
                          │        PDF Files         │
                          │  (papers/*.pdf)          │
                          └────────────┬─────────────┘
                                       │
                                       ▼
                         ┌───────────────────────────┐
                         │     PDF Text Extractor     │
                         │      (pypdf library)       │
                         └────────────┬──────────────┘
                                       │
                                       ▼
                      ┌──────────────────────────────────┐
                      │     Chunking Module (ingest)      │
                      │ Splits text into 400–600 word     │
                      │ chunks with metadata (source, idx)│
                      └────────────────┬──────────────────┘
                                       │
                                       ▼
                 ┌────────────────────────────────────────────┐
                 │    TF-IDF Vectorizer (scikit-learn)        │
                 │  - Fit on all chunks                       │
                 │  - Generate TF-IDF matrices                │
                 └────────────────┬───────────────────────────┘
                                  │
                                  ▼
        ┌────────────────────────────────────────────────────────────┐
        │   Vector Store (Local Storage)                              │
        │   Stores:                                                   │
        │   • embeddings.npy                                          │
        │   • vectorizer.joblib                                      │
        │   • texts.json (chunk texts)                                │
        │   • meta.json (source info)                                │
        └────────────────────────────────────────────────────────────┘

                                  ▲
                                  │ (on app start)
                                  │
         ┌──────────────────────────────────────────────────────────┐
         │                   Streamlit UI                           │
         │ User enters query → passes to backend                    │
         └───────────────┬─────────────────────────────────────────┘
                         │
                         ▼
      ┌──────────────────────────────────────────────────────────────┐
      │       Query Vectorizer (TF-IDF transform)                    │
      └────────────────┬────────────────────────────────────────────┘
                       │
                       ▼
          ┌──────────────────────────────────────────────┐
          │     Cosine Similarity Retrieval (top-k)       │
          └────────────────┬──────────────────────────────┘
                           │
                           ▼
         ┌─────────────────────────────────────────────────┐
         │    MMR Re-ranking (diversity filter)            │
         └────────────────┬────────────────────────────────┘
                           │
                           ▼
     ┌─────────────────────────────────────────────────────────────┐
     │     Extractive Summarizer (sentence scoring + filtering)    │
     └────────────────────┬────────────────────────────────────────┘
                          │
                          ▼
            ┌─────────────────────────────────────┐
            │   Final Answer + Source Citations    │
            │ (Sentences taken directly from PDF)  │
            └─────────────────────────────────────┘

